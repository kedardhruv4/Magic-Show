(this["webpackJsonpott-app"]=this["webpackJsonpott-app"]||[]).push([[14],{105:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return f}));var r=n(24),a=n(17),i=n.n(a),s=n(113),o=n(34),c=n(111),l=n(18),u=function(e){return Object(r.a)(i.a.mark((function t(){var n,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.a)(null===c.a||void 0===c.a?void 0:c.a.contentAdd,e,"postMultipart");case 2:if(200!==(null===(r=t.sent)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.status)){t.next=7;break}return t.abrupt("return",r);case 7:return o.b.error(null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message),t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})))},d=function(e,t,n){return Object(r.a)(i.a.mark((function r(){var a,l,u;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(s.a)("".concat(null===c.a||void 0===c.a?void 0:c.a.contentGet,"?type=").concat(e,"&page=").concat(t,"&limit=").concat(n),{},"get");case 2:if(200!==(null===(l=r.sent)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.status)){r.next=7;break}return r.abrupt("return",l);case 7:return o.b.error(null===l||void 0===l||null===(u=l.data)||void 0===u?void 0:u.message),r.abrupt("return",l);case 9:case"end":return r.stop()}}),r)})))},v=function(e){return Object(r.a)(i.a.mark((function t(){var n,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.a)("".concat(null===c.a||void 0===c.a?void 0:c.a.contentGetById,"?id=").concat(e),{},"get");case 2:if(200!==(null===(r=t.sent)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.status)){t.next=7;break}return t.abrupt("return",r);case 7:return o.b.error(null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message),t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})))},m=function(e,t){return Object(r.a)(i.a.mark((function n(){var r,a,l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.a)("".concat(null===c.a||void 0===c.a?void 0:c.a.contentUpdate,"?id=").concat(e),t,"put");case 2:if(200!==(null===(a=n.sent)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.status)){n.next=7;break}return n.abrupt("return",a);case 7:return o.b.error(null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message),n.abrupt("return",a);case 9:case"end":return n.stop()}}),n)})))},p=function(e){return Object(r.a)(i.a.mark((function t(){var n,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.a)("".concat(null===c.a||void 0===c.a?void 0:c.a.contentDelete,"?id=").concat(e),{},"delete");case 2:if(200!==(null===(r=t.sent)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.status)){t.next=7;break}return t.abrupt("return",r);case 7:return o.b.error(null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message),t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})))},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return function(){var d=Object(r.a)(i.a.mark((function r(d){var v,m,p,b;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(s.a)("".concat(null===c.a||void 0===c.a?void 0:c.a.subscription,"?isPaid=").concat(e,"&cardInput=").concat(t,"&cardName=").concat(n,"&cvv=").concat(a,"&expDate=").concat(u),{},"put");case 2:if(200!==(null===(m=r.sent)||void 0===m||null===(v=m.data)||void 0===v?void 0:v.status)){r.next=9;break}return d({type:l.c,payload:[null===m||void 0===m||null===(p=m.data)||void 0===p?void 0:p.data]}),o.b.success("You have successfully upgraded your plan"),r.abrupt("return",m);case 9:return o.b.error(null===m||void 0===m||null===(b=m.data)||void 0===b?void 0:b.message),r.abrupt("return",m);case 11:case"end":return r.stop()}}),r)})));return function(e){return d.apply(this,arguments)}}()},f=function(e){return Object(r.a)(i.a.mark((function t(){var n,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.a)(null===c.a||void 0===c.a?void 0:c.a.coverImageUpload,e,"postMultipart");case 2:if(200!==(null===(r=t.sent)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.status)){t.next=7;break}return t.abrupt("return",r);case 7:return o.b.error(null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message),t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})))}},109:function(e,t,n){"use strict";n(1);var r=n(104),a=n(23),i=n(4);t.a=function(e){var t=e.control,n=e.name,s=e.label,o=e.type,c=e.id,l=e.placeholder,u=e.autoFocus,d=e.className,v=e.error;return Object(i.jsxs)(i.Fragment,{children:[s&&Object(i.jsx)(a.s,{className:"form-label",for:c,children:s},n+1),Object(i.jsx)(r.a,{control:t,name:n,render:function(e){var t=e.field,r=t.onChange,s=t.onBlur,m=t.value;return Object(i.jsx)(a.p,{type:o,onChange:r,onBlur:s,name:n,value:m,id:c,placeholder:l,autoFocus:u,className:d,invalid:Boolean(v)},n+3)}},n+2),v&&Object(i.jsx)(a.o,{children:v})]})}},110:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(122),a=n(112);n.n(a)()(r);var i=r.object({email:r.string().email().required(),password:r.string().min(8).max(16).minLowercase(1).minUppercase(1).minNumbers(1).minSymbols(1).required()}),s=r.object({username:r.string().required(),email:r.string().email().required(),password:r.string().min(8).max(16).minLowercase(1).minUppercase(1).minNumbers(1).minSymbols(1).required(),terms:r.bool().oneOf([!0],"Please accept  privacy policy & terms").required()}),o=r.object({email:r.string().email().required()}),c=r.object({file:r.array().test("isFile","Please select file",(function(e){return e&&e[0]})).required(),title:r.string().required(),description:r.string().required(),isFree:r.string().required()}),l=r.object({title:r.string().required(),description:r.string().required(),isFree:r.string().required()});r.object({file:r.string().required(),title:r.string().required(),description:r.string().required(),isFree:r.string().required(),cover:r.string()})},112:function(e,t,n){"use strict";var r=function(e,t){return 1===t?e:"".concat(e,"s")},a=function(e){return null===e||void 0===e};function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=t||"${path} must contain at least ${length} lowercase "+r("letter",e);return this.test({name:"minLowercase",exclusive:!0,message:n,params:{length:e},test:function(t){return a(t)||(t.match(/[a-z]/g)||[]).length>=e}})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=t||"${path} must contain at least ${length} uppercase "+r("letter",e);return this.test({name:"minUppercase",exclusive:!0,message:n,params:{length:e},test:function(t){return a(t)||(t.match(/[A-Z]/g)||[]).length>=e}})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=t||"${path} must contain at least ${length} "+r("number",e);return this.test({name:"minNumber",exclusive:!0,message:n,params:{length:e},test:function(t){return a(t)||(t.match(/[0-9]/g)||[]).length>=e}})}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=t||"${path} must contain at least ${length} "+r("symbol",e);return this.test({name:"minSymbol",exclusive:!0,message:n,params:{length:e},test:function(t){return a(t)||(t.match(/[^a-zA-Z0-9\s]/g)||[]).length>=e}})}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1?arguments[1]:void 0,n=t||"${path} must not contain sequences of more than ${length} repeated "+r("character",e);return this.test({name:"minRepeating",exclusive:!0,message:n,params:{length:e},test:function(t){return a(t)||!new RegExp("(.)\\1{".concat(e,",}")).test(t)}})}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1?arguments[1]:void 0,n=t||"${path} must contain at least ${length} "+r("word",e),i=new RegExp("[a-zA-Z0-9]");return this.test({name:"minWords",exclusive:!0,message:n,params:{length:e},test:function(t){return a(t)||t.split(" ").filter((function(e){return!!e&&i.test(e)})).length>=e}})}function d(){return this.min(8).max(250).minLowercase(1).minUppercase(1).minNumbers(1).minSymbols(1)}e.exports=function(e){e.addMethod(e.string,"minLowercase",i),e.addMethod(e.string,"minUppercase",s),e.addMethod(e.string,"minNumber",o),e.addMethod(e.string,"minNumbers",o),e.addMethod(e.string,"minSymbol",c),e.addMethod(e.string,"minSymbols",c),e.addMethod(e.string,"minRepeating",l),e.addMethod(e.string,"minWords",u),e.addMethod(e.string,"password",d)}},117:function(e,t,n){"use strict";n(1);var r=n(104),a=n(23),i=n(143),s=n(120),o=n(4);t.a=function(e){var t=e.control,n=e.name,c=e.label,l=e.id,u=e.placeholder,d=e.className,v=e.error,m=e.options;return Object(o.jsxs)(o.Fragment,{children:[c&&Object(o.jsx)(a.s,{className:"form-label",for:l,children:c},n+1),Object(o.jsx)(r.a,{control:t,name:n,render:function(e){var t=e.field,r=t.onChange,a=t.value;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(i.a,{theme:s.d,value:null===m||void 0===m?void 0:m.filter((function(e){return e.value===a})),onChange:function(e){return r(null===e||void 0===e?void 0:e.value)},name:n,id:l,placeholder:u,className:d,classNamePrefix:"select",defaultValue:null===m||void 0===m?void 0:m[0],options:m,isClearable:!1,invalid:Boolean(v)})})}},n+2),v&&Object(o.jsx)(a.o,{children:v})]})}},118:function(e,t,n){"use strict";n(1);var r=n(104),a=n(23),i=n(4);t.a=function(e){var t=e.control,n=e.name,s=e.label,o=e.id,c=e.className,l=e.error,u=e.accept;return Object(i.jsxs)(i.Fragment,{children:[s&&Object(i.jsx)(a.s,{className:"form-label",for:o,children:s},n+1),Object(i.jsx)(r.a,{control:t,name:n,render:function(e){var t=e.field.onChange;return Object(i.jsx)("input",{type:"file",accept:u,onChange:function(e){return t([e.currentTarget.files[0]])},name:n,id:o,className:c},n+3)}},n+2),l&&Object(i.jsx)(a.o,{children:l})]})}},170:function(e,t,n){"use strict";n.r(t);var r=n(12),a=n(24),i=n(7),s=n(17),o=n.n(s),c=n(116),l=n(1),u=n(104),d=n(34),v=n(32),m=n(3),p=n(23),b=n(117),f=n(118),h=n(109),j=n(18),g=n(110),x=n(105),O=n(4);t.default=function(){var e,t,n,s,y,w=Object(l.useState)(!1),F=Object(i.a)(w,2),N=F[0],k=F[1],q=Object(l.useState)(!1),C=Object(i.a)(q,2),S=C[0],$=C[1],M=Object(v.b)(),A=Object(m.g)(),G=Object(m.f)(),U=Object(u.e)({mode:"onChange",defaultValues:{file:[],title:"",description:"",isFree:"true",cover:[]},resolver:Object(c.a)(null!==A&&void 0!==A&&A.id?g.b:g.c)}),D=U.handleSubmit,z=U.control,B=U.reset,L=U.formState.errors,R=function(){var e=Object(a.a)(o.a.mark((function e(t){var n,r,a,i,s,c,l,u,v,m,p,b,f,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($(!0),(r=new FormData).append("files",null===t||void 0===t||null===(n=t.file)||void 0===n?void 0:n[0]),r.append("isFree",null===t||void 0===t?void 0:t.isFree),r.append("title",null===t||void 0===t?void 0:t.title),r.append("description",null===t||void 0===t?void 0:t.description),r.append("type","games"),!N){e.next=15;break}return i={title:null===t||void 0===t?void 0:t.title,description:null===t||void 0===t?void 0:t.description,isFree:null===t||void 0===t?void 0:t.isFree},e.next=11,M(Object(x.e)(null===A||void 0===A?void 0:A.id,i));case 11:200===(null===(s=e.sent)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.status)&&(d.b.success("Games updated successfully"),G("/games")),e.next=29;break;case 15:return e.next=17,M(Object(x.a)(r));case 17:if(200!==(null===(l=e.sent)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.status)){e.next=29;break}if(null===t||void 0===t||null===(u=t.cover)||void 0===u||!u[0]){e.next=27;break}return(f=new FormData).append("id",null===l||void 0===l||null===(v=l.data)||void 0===v||null===(m=v.data)||void 0===m?void 0:m._id),f.append("files",null===t||void 0===t||null===(p=t.cover)||void 0===p?void 0:p[0]),e.next=25,M(Object(x.f)(f));case 25:200===(null===(h=e.sent)||void 0===h||null===(b=h.data)||void 0===b?void 0:b.status)&&(d.b.success("Games added successfully"),G("/games"));case 27:d.b.success("Games added successfully"),G("/games");case 29:$(!0);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(a.a)(o.a.mark((function e(t){var n,a,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(Object(x.d)(t));case 2:200===(null===(a=e.sent)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.status)&&B(Object(r.a)({},null===a||void 0===a||null===(i=a.data)||void 0===i||null===(s=i.data)||void 0===s?void 0:s[0]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){null!==A&&void 0!==A&&A.id&&(k(!0),E(null===A||void 0===A?void 0:A.id))}),[null===A||void 0===A?void 0:A.id]),Object(O.jsxs)(p.c,{children:[Object(O.jsx)(p.e,{children:Object(O.jsx)(p.h,{tag:"h4",children:null!==A&&void 0!==A&&A.id?"Edit Game":"Add Game"})}),Object(O.jsx)(p.d,{children:Object(O.jsxs)(p.n,{onSubmit:D(R),children:[null!==A&&void 0!==A&&A.id?null:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(p.C,{className:"mb-1",children:[Object(O.jsx)(p.s,{sm:"3",for:"inputFile",children:"Cover Image"}),Object(O.jsx)(p.i,{sm:"9",children:Object(O.jsx)(f.a,{control:z,name:"cover",label:"",type:"file",id:"song-file",placeholder:"Add file here",autoFocus:!1,accept:"image/*",className:"",error:null===L||void 0===L||null===(e=L.file)||void 0===e?void 0:e.message})})]}),Object(O.jsxs)(p.C,{className:"mb-1",children:[Object(O.jsx)(p.s,{sm:"3",for:"inputFile",children:"File"}),Object(O.jsx)(p.i,{sm:"9",children:Object(O.jsx)(f.a,{control:z,name:"file",label:"",type:"file",id:"song-file",placeholder:"Add file here",autoFocus:!1,accept:"video/mp4",className:"",error:null===L||void 0===L||null===(t=L.file)||void 0===t?void 0:t.message})})]})]}),Object(O.jsxs)(p.C,{className:"mb-1",children:[Object(O.jsx)(p.s,{sm:"3",for:"movie-description",children:"Title"}),Object(O.jsx)(p.i,{sm:"9",children:Object(O.jsx)(h.a,{control:z,name:"title",label:"",type:"text",id:"movie-title",placeholder:"Add title here",autoFocus:!0,className:"",error:null===L||void 0===L||null===(n=L.title)||void 0===n?void 0:n.message})})]}),Object(O.jsxs)(p.C,{className:"mb-1",children:[Object(O.jsx)(p.s,{sm:"3",for:"movie-description",children:"Description"}),Object(O.jsx)(p.i,{sm:"9",children:Object(O.jsx)(h.a,{control:z,name:"description",label:"",type:"description",id:"movie-description",placeholder:"Add description here",autoFocus:!1,className:"",error:null===L||void 0===L||null===(s=L.description)||void 0===s?void 0:s.message})})]}),Object(O.jsxs)(p.C,{className:"mb-1",children:[Object(O.jsx)(p.s,{sm:"3",for:"movie-description",children:"Games type"}),Object(O.jsx)(p.i,{sm:"9",children:Object(O.jsx)(b.a,{control:z,name:"isFree",label:"",id:"movie-isFree",placeholder:"Select type",autoFocus:!0,className:"react-select",options:j.d,error:null===L||void 0===L||null===(y=L.isFree)||void 0===y?void 0:y.message})})]}),Object(O.jsx)(p.C,{children:Object(O.jsxs)(p.i,{className:"d-flex",md:{size:9,offset:3},children:[Object(O.jsxs)(p.b,{className:"me-1",color:"primary",type:"submit",disabled:S,children:["Submit",S?Object(O.jsxs)(O.Fragment,{children:["\xa0",Object(O.jsx)(p.D,{color:"light",size:"sm"})]}):null]}),null!==A&&void 0!==A&&A.id?null:Object(O.jsx)(p.b,{outline:!0,color:"secondary",type:"reset",disabled:S,children:"Reset"})]})})]})})]})}}}]);
//# sourceMappingURL=14.359399ef.chunk.js.map